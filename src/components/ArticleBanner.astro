---
export type Props = {
  slug: string;
  banner?: string;
  title: string;
  subtitle?: string;
  author?: string;
  date: Date;
  link?: string;
};

const { slug, title, subtitle, author, date, link } = Astro.props;
const meta = [date.toLocaleDateString(), author].filter(Boolean);
---

<a href={link || `/blog/${slug}`}>
  <div>
    <label>{meta.join(" Â· ")}</label>
    <strong>{title}</strong>
    {subtitle && <span>{subtitle}</span>}
  </div>
</a>

<style lang="scss">
  a {
    width: calc(100vw - 48px);
    max-width: var(--max-width);
    margin: auto;
    display: block;
    color: inherit;
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 24px;
    &:hover {
      div {
        background-color: var(--colour-foreground);
        border-color: var(--colour-border);
      }
      strong {
        text-decoration: underline;
      }
    }
    div {
      transition: 320ms;
      display: flex;
      flex-direction: column;
      background-color: transparent;
      border: 1px solid transparent;
      margin: -12px -16px;
      padding: 12px 16px;
      flex: 1;
      border-radius: 6px;
      label {
        font-size: 14px;
        font-weight: 500;
        opacity: 0.8;
      }
      strong {
        font-size: 20px;
        margin-top: 4px;
      }
      span {
        font-size: 14px;
        font-weight: 500;
        margin-top: 4px;
      }
    }
  }
</style>
